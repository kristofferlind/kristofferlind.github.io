<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Cost of microservices &#183; Kristoffer Lind - Developer, Technologist, Blogger</title>
<meta name=description content="Many of the costs associated with a microservice architecture are often overlooked, this post tries to reason about the pros and cons of picking it.">
<link rel=canonical href=/blog/cost-of-microservices/>
<style>*{line-height:1.5}html,body{color:#555;background-color:#fff;margin:0;padding:0}html{font-family:times new roman,Times,serif;font-size:14px;overflow-y:scroll}@media(min-width:600px){html{font-size:18px}}h1,h2,h3,h4,h5,h6,.heading{color:#353535;font-family:helvetica neue,segoe ui,Helvetica,Arial,sans-serif;line-height:normal}a{color:#4a9ae1;text-decoration:none}blockquote{border-left:.25rem solid #e5e5e5;color:#979797;margin:.8rem 0;padding:.5rem 1rem}blockquote p:last-child{margin-bottom:0}@media(min-width:600px){blockquote{padding:0 5rem 0 1.25rem}}img{display:block;margin:0 0 1rem;max-width:100%;object-fit:scale-down}td{vertical-align:top}@media(prefers-color-scheme:dark){html,body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,.heading{color:#ccc}blockquote{color:#979797}}.highlight pre{padding:1rem;border-radius:3px;overflow-x:auto;font-size:.8rem}.post{padding:3rem 0}.post-info{color:#aaa;font-family:Palatino,palatino lt std,palatino linotype,book antiqua,georgia,serif;letter-spacing:.5px;text-align:center}.post-info span{font-style:italic}.post-title{color:#353535;font-family:helvetica neue,segoe ui,Helvetica,Arial,sans-serif;font-size:2rem;margin:1rem 0;text-align:center}@media(min-width:600px){.post-title{font-size:3rem}}.post-line{border-top:.4rem solid #353535;display:block;margin:0 auto 3rem;width:4rem}.post p{margin:0 0 1rem;text-align:justify}.post a:hover{text-decoration:underline}.post img{margin:0 auto .5rem}.post img+em{color:#aaa;display:block;font-family:helvetica neue,segoe ui,Helvetica,Arial,sans-serif;font-size:.9rem;font-style:normal;text-align:center}@media(prefers-color-scheme:dark){.post-info{color:#ccc}.post-title{color:#eee}.post img+em{color:#ccc}}.container{margin:0 auto;max-width:800px;width:80%}main,footer,.nav-container{display:block;margin:0 auto;max-width:800px;width:80%}.nav{box-shadow:0 2px 2px -2px rgba(0,0,0,.2);overflow:auto}.nav-container{margin:1rem auto;position:relative;text-align:center}.nav-title{color:#555;display:inline-block;margin:0;padding-right:.2rem}.nav-title:hover,.nav-title:focus{opacity:.6}.nav ul{list-style-type:none;margin:1rem 0 0;padding:0;text-align:center}.nav li{color:#555;display:inline-block;opacity:.6;padding:0 2rem 0 0}.nav li:last-child{padding-right:0}.nav li:hover,.nav li:focus{opacity:1}.nav a{color:#555;font-family:helvetica neue,segoe ui,Helvetica,Arial,sans-serif}@media(min-width:600px){.nav-container{text-align:left}.nav ul{bottom:0;position:absolute;right:0}}footer{font-family:Palatino,palatino lt std,palatino linotype,book antiqua,georgia,serif;padding:2rem 0;text-align:center}footer span{color:#555;font-size:.8rem}@media(prefers-color-scheme:dark){.nav{box-shadow:0 2px 2px -2px rgba(255,255,255,.2)}.nav-title{color:#ddd}.nav li{color:#ddd}.nav a{color:#ddd}footer span{color:#ddd}}.pagination{border-top:.5px solid #e5e5e5;font-family:Palatino,palatino lt std,palatino linotype,book antiqua,georgia,serif;padding-top:2rem;position:relative;text-align:center}.pagination span{color:#353535;font-size:1.1rem}.pagination .top{color:#555;font-family:helvetica neue,segoe ui,Helvetica,Arial,sans-serif;font-size:1.1rem;opacity:.6}.pagination .top:hover{opacity:1}.pagination .arrow{color:#555;position:absolute}.pagination .arrow:hover,.pagination .arrow:focus{opacity:.6;text-decoration:none}.pagination .left{left:0}.pagination .right{right:0}@media(prefers-color-scheme:dark){.pagination span{color:#ccc}.pagination .top{color:#ddd}.pagination .arrow{color:#ddd}}.catalogue-item{border-bottom:1px solid #e5e5e5;display:block;padding:2rem 0}.catalogue-item:hover .catalogue-line,.catalogue-item:focus .catalogue-line{width:5rem}.catalogue-item:last-child{border:0}.catalogue-item a.entry{color:#555}.catalogue-time{color:#aaa;font-family:Palatino,palatino lt std,palatino linotype,book antiqua,georgia,serif;letter-spacing:.5px}.catalogue-title{color:#353535;display:block;font-family:helvetica neue,segoe ui,Helvetica,Arial,sans-serif;font-size:1.6rem;font-weight:700;margin:.5rem 0}@media(min-width:600px){.catalogue-title{font-size:1.8rem}}.catalogue-line{border-top:.2rem solid #353535;display:block;width:2rem}.catalogue p{margin-bottom:.25rem}.catalogue .tags{display:flex;justify-content:flex-end}.catalogue.archive{margin-bottom:.25rem}.catalogue.archive article{box-sizing:border-box;display:flex;justify-content:space-between}@media(prefers-color-scheme:dark){.catalogue-item a.entry{color:#eee}.catalogue-title{color:#ddd}}</style>
<link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png>
<link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png>
<link href rel=alternate type=application/rss+xml title="Kristoffer Lind - Developer, Technologist, Blogger">
<script async type=text/javascript src=https://www.lind.sh/js/index.79b056912be7157f2501588e9a504af685b2c5e0f50a84a4699aedebeec5a92b27ceccb62d381eaa7f263026fa2836d5628e85f5478b70da6a9c7f2648c5344d.js integrity="sha512-ebBWkSvnFX8lAViOmlBK9oWyxeD1CoSkaZrt6+7FqSsnzsy2LTgeqn8mMCb6KDbVYo6F9UeLcNpqnH8mSMU0TQ=="></script>
</head>
<body>
<nav class=nav>
<div class=nav-container>
<a href=/>
<h2 class=nav-title>Kristoffer Lind</h2>
</a>
<ul>
<li>
<a href=/about/>
<span>Who am I?</span>
</a>
</li>
</ul>
</div>
</nav>
<main>
<div class=post>
<div class=post-info>
<span>Written by</span>
Kristoffer Lind
<br>
<span>on&nbsp;</span><time datetime="December 22, 2021">December 22, 2021</time>
</div>
<h1 class=post-title>Cost of microservices</h1>
<div class=post-line></div>
<p>Microservices are great; they&rsquo;re fun to build and run. You&rsquo;ll have lots of interesting new problems to tackle. That does however also mean that you&rsquo;ll need to be reaping quite a bit of benefits from it for it to be a reasonable business choice. So what are the costs? what are the benefits?</p>
<h1 id=interesting-problems>
<a href=#interesting-problems class=heading>Interesting problems</a>
</h1>
<p>The associated technical problems are very interesting, which will likely help with both recruitment and keeping those developers from being bored out of their minds and quitting (unless you have interesting business problems).</p>
<p>New technical problems include:</p>
<ul>
<li>reliable communication between services</li>
<li>reliably running and securing multiple services</li>
<li>learning the orchestration tool chosen for running those multiple services (kubernetes?)</li>
<li>knowledge sharing (will you be needing a developer portal? a service catalog?)</li>
<li>shared build and release pipelines</li>
<li>shared artifacts (hardened base images for docker images for example, strategy for building them and keeping them up to date)</li>
<li>shared libraries (and avoiding building a distributed monolith when doing so, which kinds of registries will you be needing?)</li>
</ul>
<h2 id=cost>
<a href=#cost class=heading>Cost</a>
</h2>
<p>None of the time spent working on these technical problems creates any business value.</p>
<h1 id=organizational-scaling>
<a href=#organizational-scaling class=heading>Organizational scaling</a>
</h1>
<p>This is the main benefit of microservices. If well executed you can have multiple teams working fairly independently from each other. Development velocity can be kept high as you&rsquo;re sidestepping many of the growing pains.</p>
<h2 id=cost-1>
<a href=#cost-1 class=heading>Cost</a>
</h2>
<p>The organization needs to change accordingly, you&rsquo;ll need to figure out which teams will own which parts of the business domains and restructure your organization accordingly. You&rsquo;ll likely also get some of it wrong, which means there&rsquo;s also an organizational maintenance cost.</p>
<p>You should probably also have one or more teams for the platform, developer productivity and security automation.</p>
<h1 id=performance-scaling>
<a href=#performance-scaling class=heading>Performance scaling</a>
</h1>
<p>Enables very fine-grained options for horizontal scaling as every service can have different settings for how it will scale.</p>
<h2 id=cost-2>
<a href=#cost-2 class=heading>Cost</a>
</h2>
<p>You&rsquo;ll need to configure the resource needs/limits for each of those services, even if you don&rsquo;t actually need the scaling part yet.</p>
<p>Every service should also have health check endpoints for readiness and liveness to run reliably. What are the criteria for it being alive? ready to handle requests?</p>
<p>If you start off with a modular monolith instead you can extract modules into services and define it per service as needed.</p>
<h1 id=architectural-isolation>
<a href=#architectural-isolation class=heading>Architectural isolation</a>
</h1>
<p>Microservices &ldquo;enforces&rdquo; a very high level of isolation. Services don&rsquo;t need to be written in the same language or use the same frameworks. It opens up your recruitment pool as you no longer need to search for developers with a specific set of skills. You will have well defined services that can be developed and released independently of each other.</p>
<h2 id=cost-3>
<a href=#cost-3 class=heading>Cost</a>
</h2>
<p>I think these are commonly the main arguments when a microservice architecture is picked for the wrong reasons. I&rsquo;m not sure I even find them beneficial. If you think the team would be building a big ball of mud spaghetti monolith, do you really think adding the complexity of microservices is a good idea?</p>
<p>You&rsquo;ve essentially just increased the amount of ways in which you can shoot yourself in the foot and the bullet is now also hollow point and radioactive. That spaghetti will be shared across services using shared libraries where it&rsquo;s harder to figure out which parts are affected by any change. You&rsquo;ll therefore also need to figure out a strategy for how to test each full configuration of service versions in that distributed monolith.</p>
<p>Interfaces being rigid and services possibly not being in the same language also makes refactoring really hard. You are much more likely to end up with a sensible set of services if they were first just modules in a modular monolith where it&rsquo;s easy to move things around as requirements change or knowledge increases. Well defined modules allows working almost as independently and if you really need it they can also be independent build/deployment units in most languages (at the cost of introducing some of the problems of microservices).</p>
<p>Microservices being the solution to your architectural problems is likely a dream. Don&rsquo;t do it prematurely, wait until you actually need it. For now spend that extra time improving software quality. Focus on creating a high quality modular monolith, learning more about the domain and refactoring as you learn. See if you can figure out a more productive way to make the project interesting.</p>
<h1 id=conclusion>
<a href=#conclusion class=heading>Conclusion</a>
</h1>
<p>Unless you need it for scaling organizationally right now, you&rsquo;re probably better off waiting until you actually need it. If you were ready to spend the extra effort to solve some other problem, figure out what the root problem is and spend the effort there. No premature optimization, extract one or a few modules into services when you are prepared to also give full ownership of those services to a different team, if it&rsquo;s owned by the same team that owns the monolith you&rsquo;ve gained very little at a very high cost.</p>
</div>
<div class=pagination>
<a href=# class=top>Top</a>
</div>
</main>
<footer>
<span>
&copy; <time datetime="2023-11-21 20:29:13.180213377 +0000 UTC m=+0.036198470">2023</time> Kristoffer Lind. Made with <a href=https://gohugo.io rel=noopener>Hugo</a> using the <a href=https://github.com/kristofferlind/tale-hugo/ rel=noopener>Tale</a> theme.
</span>
</footer>
</body>
</html>